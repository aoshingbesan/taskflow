# Azure App Service Configuration for Linux
# This file configures the Python application for Azure App Service

# Python version
python_version: "3.11"

# Startup command
startup_command: "python -m pip install --upgrade pip && pip install -r requirements.txt && gunicorn --bind=0.0.0.0:8000 --timeout=600 --workers=2 main_app:app"

# Environment variables
environment_variables:
  - name: "WEBSITES_PORT"
    value: "8000"
  - name: "SCM_DO_BUILD_DURING_DEPLOYMENT"
    value: "true"
  - name: "PYTHONPATH"
    value: "/home/site/wwwroot"
  - name: "SECRET_KEY"
    value: "your-super-secret-key-change-this-in-production"
  - name: "FLASK_ENV"
    value: "production"
  - name: "FLASK_APP"
    value: "main_app.py"

# Build configuration
build_config:
  - command: "pip install -r requirements.txt"
  - command: "python -c 'from main_app import app; print(\"App imported successfully\")'" 